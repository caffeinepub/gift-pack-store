{
  "kind": "build_request",
  "title": "Add edit functionality to admin dashboard",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add edit button to each gift pack card in GiftPackList component that opens an edit form with pre-filled data",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "add edit option in admin"
        ]
      },
      "acceptanceCriteria": [
        "Each gift pack card displays an edit button or icon",
        "Clicking edit button opens an edit form with the gift pack's current data pre-populated",
        "Form allows modification of all gift pack fields (title, description, price, discount, category, image URL, basket type, size)"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement backend mutation for updating existing gift packs by ID",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "add edit option in admin"
        ]
      },
      "acceptanceCriteria": [
        "Backend provides an updateGiftPack function that accepts gift pack ID and updated fields",
        "Function validates that the gift pack exists before updating",
        "Function returns success response with updated gift pack or error if not found"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Create useGiftPackMutation hook with update mutation support",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "add edit option in admin"
        ]
      },
      "acceptanceCriteria": [
        "Hook provides an updateGiftPack mutation function",
        "Mutation invalidates gift packs query cache on success",
        "Hook returns loading state and error handling"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Update GiftPackManagement to handle both create and edit modes with appropriate success messages",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "add edit option in admin"
        ]
      },
      "acceptanceCriteria": [
        "Component displays 'Gift Pack Created' toast on creation success",
        "Component displays 'Gift Pack Updated' toast on update success",
        "Form resets after successful creation but closes/returns to list after successful edit"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Add edit functionality to category, coupon, and product sections in admin dashboard",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-10"
        ],
        "quotes": [
          "add edit option in admin"
        ]
      },
      "acceptanceCriteria": [
        "CategoryList displays edit buttons for each category with edit form capability",
        "CouponList displays edit buttons for each coupon with edit form capability",
        "Backend provides update functions for categories and coupons",
        "All edit operations show appropriate success/error feedback"
      ]
    }
  ],
  "constraints": [
    "Use existing form components (GiftPackForm, CategoryForm, CouponForm) for edit functionality by making them reusable for both create and edit modes",
    "Maintain single-actor Motoko architecture with all update logic in backend/main.mo",
    "Follow existing toast notification pattern for user feedback"
  ],
  "nonGoals": [
    "Bulk edit functionality",
    "Delete functionality for gift packs, categories, or coupons",
    "Edit history or audit trail",
    "Permissions or role-based access control for edit operations"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}