{
  "kind": "build_request",
  "title": "Add gift pack management to admin panel",
  "projectName": "Gift Pack Admin",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add a GiftPackManagement section to the AdminPage that displays the existing GiftPackManagement component alongside ProductManagement, CategoryManagement, and CouponManagement",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-request"
        ],
        "quotes": [
          "add option in admin to add/edit/delete gift packs"
        ]
      },
      "acceptanceCriteria": [
        "The AdminPage displays a fourth card section titled 'Gift Pack Management'",
        "The GiftPackManagement component is rendered within this new section",
        "The layout maintains consistency with existing management sections"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement backend CRUD endpoints for gift packs including createGiftPack, updateGiftPack, and deleteGiftPack methods in the main actor",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-user-request"
        ],
        "quotes": [
          "add option in admin to add/edit/delete gift packs"
        ]
      },
      "acceptanceCriteria": [
        "createGiftPack accepts GiftPack data and stores it in the giftPacks Map",
        "updateGiftPack accepts a pack ID and updated GiftPack data and modifies the existing entry",
        "deleteGiftPack accepts a pack ID and removes it from the giftPacks Map",
        "All methods return appropriate Result types indicating success or failure"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Update useGiftPackMutation hook to use the new backend gift pack CRUD methods instead of placeholder product methods",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-request"
        ]
      },
      "acceptanceCriteria": [
        "createGiftPackMutation calls actor.createGiftPack with full GiftPack data including basketType and size",
        "updateGiftPackMutation calls actor.updateGiftPack with the pack ID and updated data",
        "Both mutations invalidate the giftPacks query cache on success",
        "Mutations display appropriate toast notifications for success and error states"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Add delete functionality to GiftPackList component with a delete button on each gift pack card that calls a deleteGiftPack mutation",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-user-request"
        ],
        "quotes": [
          "add/edit/delete gift packs"
        ]
      },
      "acceptanceCriteria": [
        "Each gift pack card displays a delete button alongside the edit button",
        "Clicking delete triggers a confirmation dialog before deleting",
        "Successful deletion removes the gift pack from the list and shows a success toast",
        "Failed deletion shows an error toast with the failure reason"
      ]
    }
  ],
  "constraints": [
    "Maintain the single-actor architecture with all Motoko logic in backend/main.mo",
    "Do not modify immutable paths: frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, frontend/src/components/ui",
    "Preserve existing GiftPack type structure with basketType and size fields",
    "Keep ProductManagement and GiftPackManagement as separate, independent systems"
  ],
  "nonGoals": [
    "Modifying the existing ProductManagement functionality",
    "Changing the GiftPack type definition or data structure",
    "Adding new fields to gift packs beyond what exists in the current GiftPackForm",
    "Implementing bulk operations or advanced filtering for gift packs"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}